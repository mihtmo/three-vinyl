{"ast":null,"code":"import _slicedToArray from\"/Users/mitch/Desktop/My Computer/Coding Projects/three-vinyl/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from\"react\";import{useControl}from\"react-three-gui\";import heatColorScale from\"../data/colorscale\";import{GradientTexture,Html}from\"@react-three/drei\";import'./Weatherblanket.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var blanketGroup='Weatherblanket';var Weatherbar=function Weatherbar(props){var mesh=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hovered=_useState2[0],hover=_useState2[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"mesh\",{ref:mesh,onPointerOver:function onPointerOver(event){hover(true);event.stopPropagation();},onPointerOut:function onPointerOut(){return hover(false);},position:[props.positionX,props.heatMidpoint/2+props.low*props.exaggerate-300,props.positionZ],castShadow:true,renderOrder:0,scale:hovered?[2,1,2]:1,children:[hovered&&props.visible&&/*#__PURE__*/_jsx(Html,{scaleFactor:10,children:/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"tooltip-header\",children:[\"Date: \",props.date]}),\"High Temperature: \",props.high,\"\\xB0F\",/*#__PURE__*/_jsx(\"br\",{}),\"Low Temperature: \",props.low,\"\\xB0F\",/*#__PURE__*/_jsx(\"br\",{}),\"Precipication: \",props.precip,\"\\\"\"]})}),/*#__PURE__*/_jsx(\"cylinderGeometry\",{args:[props.radius,props.radius,props.heatHeight*props.exaggerate,16,1]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{roughness:0,opacity:props.opacity,transparent:true,visible:props.visible,color:hovered?'yellow':'#ffffff',children:/*#__PURE__*/_jsx(GradientTexture,{stops:[0,1],colors:[props.highColor,props.lowColor],size:100})})]}),props.precip!==\"0.00\"&&/*#__PURE__*/_jsxs(\"mesh\",{ref:mesh,onPointerOver:function onPointerOver(event){hover(true);event.stopPropagation();},onPointerOut:function onPointerOut(){return hover(false);},position:[props.positionX,-500+props.rainHeight*props.exaggerate/2,props.positionZ],castShadow:true,renderOrder:0,scale:hovered?[2,1,2]:1,children:[/*#__PURE__*/_jsx(\"cylinderGeometry\",{args:[props.radius,props.radius,props.rainHeight*props.exaggerate,16,1]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{roughness:0,opacity:props.opacity,transparent:true,visible:props.visible,color:hovered?'yellow':'#227bb6'})]})]});};var Weatherblanket=function Weatherblanket(props){var visible=useControl('Visible',{group:blanketGroup,type:'boolean',value:true});var opacity=useControl('Opacity',{group:blanketGroup,type:'number',max:1,value:1});var exaggerate=useControl('Exaggerate',{group:blanketGroup,type:'number',max:20,value:15});var count=useControl('Days of the Year',{group:blanketGroup,type:'number',min:0,max:props.weatherData.length,value:props.weatherData.length});var arr=[];for(var i=0;i<count;i++){var width=14;var low=props.weatherData[i][2];var high=props.weatherData[i][1];var precip=props.weatherData[i][3];var lowColor=heatColorScale(low);var highColor=heatColorScale(high);var heatHeight=high-low;var rainHeight=precip*10;var positionX=-(count*width)/2+i*width;var positionZ=-100;var heatMidpoint=high-low;var date=props.weatherData[i][0].toLocaleString('default',{month:'long'});arr.push(/*#__PURE__*/_jsx(Weatherbar,{exaggerate:exaggerate,heatMidpoint:heatMidpoint,precip:precip,date:date,high:high,low:low,visible:visible,highColor:highColor,lowColor:lowColor,opacity:opacity,radius:(width-5)/2,heatHeight:heatHeight,rainHeight:rainHeight,positionX:positionX,positionZ:positionZ},props.weatherData[i][0]));}return arr;};export default Weatherblanket;","map":{"version":3,"names":["useRef","useState","useControl","heatColorScale","GradientTexture","Html","blanketGroup","Weatherbar","props","mesh","hovered","hover","event","stopPropagation","positionX","heatMidpoint","low","exaggerate","positionZ","visible","date","high","precip","radius","heatHeight","opacity","highColor","lowColor","rainHeight","Weatherblanket","group","type","value","max","count","min","weatherData","length","arr","i","width","toLocaleString","month","push"],"sources":["/Users/mitch/Desktop/My Computer/Coding Projects/three-vinyl/frontend/src/components/Weatherblanket.js"],"sourcesContent":["import { useRef, useState } from \"react\"\nimport { useControl } from \"react-three-gui\"\nimport heatColorScale from \"../data/colorscale\"\nimport { GradientTexture, Html } from \"@react-three/drei\"\nimport './Weatherblanket.css'\n\n\nconst blanketGroup = 'Weatherblanket'\n\nconst Weatherbar = (props) => {\n    const mesh = useRef()\n    const [hovered, hover] = useState(false)\n    return (\n        <>\n            <mesh\n                ref={mesh}\n                onPointerOver={(event) => {\n                    hover(true);\n                    event.stopPropagation();\n                }}\n                onPointerOut={() => hover(false)}\n                position={[props.positionX, (((props.heatMidpoint)/2) + props.low * props.exaggerate) - 300, props.positionZ]}\n                castShadow={true}\n                renderOrder={0}\n                scale={hovered ? [2, 1, 2] : 1}\n            >\n                {hovered && props.visible && (\n                    <Html scaleFactor={10}>\n                        <div className=\"tooltip\">\n                            <p className=\"tooltip-header\">Date: {props.date}</p>\n                            High Temperature: {props.high}&deg;F\n                            <br />\n                            Low Temperature: {props.low}&deg;F\n                            <br />\n                            Precipication: {props.precip}\"\n                        </div>\n                    </Html>\n                )}\n                    <cylinderGeometry\n                        args={[props.radius, props.radius, props.heatHeight * props.exaggerate, 16, 1]} \n                />\n                <meshStandardMaterial\n                    roughness={0}\n                    opacity={props.opacity}\n                    transparent \n                    visible={props.visible}\n                    color={hovered ? 'yellow' : '#ffffff' }\n                >\n                    <GradientTexture \n                        stops={[0, 1]}\n                        colors={[props.highColor, props.lowColor]}\n                        size={100}\n                    />\n                </meshStandardMaterial>\n            </mesh>\n            {props.precip !== \"0.00\" && (\n                <mesh\n                ref={mesh}\n                onPointerOver={(event) => {\n                    hover(true);\n                    event.stopPropagation();\n                }}\n                onPointerOut={() => hover(false)}\n                position={[props.positionX, (-500 + (props.rainHeight * props.exaggerate / 2)), props.positionZ]}\n                castShadow={true}\n                renderOrder={0}\n                scale={hovered ? [2, 1, 2] : 1}\n                >\n                    <cylinderGeometry\n                        args={[props.radius, props.radius, props.rainHeight * props.exaggerate, 16, 1]} \n                />\n                <meshStandardMaterial\n                    roughness={0}\n                    opacity={props.opacity}\n                    transparent \n                    visible={props.visible}\n                    color={hovered ? 'yellow' : '#227bb6' }\n                >\n                </meshStandardMaterial>\n            </mesh>\n        )}\n    </>\n    )\n}\n\nconst Weatherblanket = (props) => {\n    const visible = useControl('Visible', { group: blanketGroup, type: 'boolean', value: true});\n    const opacity = useControl('Opacity', { group: blanketGroup, type: 'number', max: 1, value: 1 });\n    const exaggerate = useControl('Exaggerate', { group: blanketGroup, type: 'number', max: 20, value: 15 });\n    const count = useControl('Days of the Year', { group: blanketGroup, type: 'number', min: 0, max: props.weatherData.length, value: props.weatherData.length});\n    const arr = [];\n    \n    for (let i = 0; i < count; i++) {\n        const width = 14;\n        const low = props.weatherData[i][2];\n        const high= props.weatherData[i][1];\n        const precip = props.weatherData[i][3];\n        const lowColor = heatColorScale(low)\n        const highColor = heatColorScale(high)\n        const heatHeight = (high-low)\n        const rainHeight = precip * 10\n        const positionX = (-(count * width) / 2) + (i * width);\n        const positionZ = -100;\n        const heatMidpoint = high - low\n        const date = (props.weatherData[i][0]).toLocaleString('default', { month: 'long' })\n \n        \n        arr.push(\n            <Weatherbar\n                        exaggerate={exaggerate}\n                        heatMidpoint={heatMidpoint}\n                        precip={precip} \n                        date={date} \n                        high={high} \n                        low={low} \n                        visible={visible} \n                        key={props.weatherData[i][0]} \n                        highColor={highColor} \n                        lowColor={lowColor} \n                        opacity={opacity} \n                        radius={(width - 5)/2}\n                        heatHeight={heatHeight}\n                        rainHeight={rainHeight}\n                        positionX={positionX}\n                        positionZ={positionZ} />\n        );\n    \n    }\n    return arr; \n}\n\nexport default Weatherblanket"],"mappings":"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"},"metadata":{},"sourceType":"module"}